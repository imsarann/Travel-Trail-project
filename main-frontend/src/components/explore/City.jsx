import  { useState, useEffect } from 'react';

const City = ({ setState, setCity, setStart }) => {
  const [selectedState, setSelectedState] = useState('');
  const [cityList, setCityList] = useState([]);
  const [ selectedStart, setSelectedStart ] = useState('')
  const [selectedCity, setSelectedCity] = useState('');

  const stateCityMap = {"California": ["Santa  Barbara", "Isla Vista", "Goleta", "Carpinteria", "santa Barbara", "Montecito", "Truckee", "Ventura", "Port Hueneme", "West Hill", "Santa Ynez", "Summerland", "Spark", "Kings Beach", "Eagle", "Santa Clara", "Valencia", "Real Goleta", "Santa Barbara,", "Reno", "Spring City", "Aliso Viejo", "SANTA BARBARA AP", "South Lake Tahoe", "Santa Barbara & Ventura Counties", "Salinas", "Santa Maria"], "Missouri": ["Affton", "Maplewood", "Saint John", "St. Leo", "Normandy", "Ballwin", "Chesterfield", "Hazelwood", "St Louis", "Saint Charles", "High Ridge", "Florissant", "Town and Country", "Jennings", "Creve Coeur", "St Charles", "Fenton", "University City", "Arnold", "Maryland Heights", "Bridgeport", "Overland", "Warson Woods", "Ferguson", "Des Peres", "Earth City", "Saint Ann", "Kirkwood", "Berkeley", "Manchester", "Richmond Heights", "Brentwood", "Crestwood", "ST. Louis", "St.Ann", "Clayton", "Valley Park", "Webster Groves", "Imperial", "Shrewsbury", "Twin Oaks", "St. Charles", "KIRKWOOD", "St Louis Downtown", "Lemay", "Frontenac", "Sunset Hills", "Rock Hill", "Town And Country", "Oakville", "St Ann", "Olivette", "St. Ann", "Breckenridge Hills", "Ladue", "Marlborough", "South County", "Saint louis", "Sappington", "Woodson Terrace", "Blvd", "Green Park", "St.Louis", "ST LOUIS", "Glendale", "\u200bClayton", "Lake Saint Louis", "St louis", "Black Jack", "Kimmiswick", "Mehlville", "Peerless Park", "St. Peters", "Town & Country", "SAINT LOUIS AP", "St Louis County", "saint ann", "Bellefontaine", "Bellefontaine Neighbors", "Winchester", "Maryland Height, MO", "Dellwood", "SAINT LOUIS", "St.Charles", "Sullivan", "Bel Ridge", "Charlack", "St. Louis County", "St  Louis", "Maryland Height", "St.  Charles"], "Pennsylvania": ["Philadelphia", "Green Lane", "Newtown", "Ardmore", "Exton", "Bala Cynwyd", "Kennett Square", "West Chester", "Glenoldan", "Bensalem", "Southampton", "Chalfont", "Haverford", "Glenside", "Levittown", "Aston", "Warrington", "Haverton", "Langhorne", "King of Prussi", "Jenkintown", "Wayne", "Delaware County", "Downingtown", "Horsham", "Malvern", "Lansdale", "Plymouth Meeting", "Villanova", "Narberth", "Bristol", "Montgomeryville", "Morrisville", "Doylestown", "Brookhaven", "Paoli", "New Hope", "Norristown", "Media", "Conshohocken", "Chadds Ford", "Warminster", "Bryn Mawr", "Springfield", "Pottstown", "Spring City", "Ambler", "King Of Prussia", "Primos", "Huntingdon Valley", "Collingdale", "Fort Washington", "Limerick", "Elkins Park", "Willow Grove", "Fountainville", "Collegeville", "Royersford", "Bridgeport", "Huntingdon Valley PA", "Washington Crossing", "Drexel Hil", "Folsom", "Thorndale", "Kimberton", "East Norristown", "Harleysville", "Schwenksville", "Dublin", "Phoenixville", "Line Lexington", "Fairless Hills", "Newtown Sqaure", "Trooper", "Ridley Park", "Woodlyn", "Lahaska", "Boothwyn", "Kulpsville", "North Wales", "Yardley", "Wyndmoor", "Darby", "Glen Mills", "Souderton", "Rosemont", "Broomall", "Abington", "Perkiomenville", "Eddystone", "East Greenville", "Buckingham", "Swarthmore", "Frazer", "Erdenheim", "Hatboro", "Prospect Park", "Stowe", "Morton", "Perkasie", "Blue Bell", "Lansdowne", "Skippack", "Feasterville-Trevose", "Glenmoore", "Holmes", "Oaklyn", "Quakertown", "Upper Darby", "Gilbertsville", "Essington", "Eagleville", "Mendenhall", "Chester", "Colmar", "Secane", "Drexel", "abington", "Telford", "Elverson", "Rockledge", "Valley Forge", "Crum Lynne", "Hilltop", "Croydon", "Trappe", "Richboro", "Hatfield", "Feasterville", "Dresher", "Furlong", "Holland", "Jamison", "Yeadon", "Plumsteadville", "Audubon", "Wallingford", "Boyertown", "Lafayette Hill", "Lester", "Maple Glen", "Belmont Hills", "Sellersville", "Wyncote", "Berwyn", "Chester Springs", "Folcroft", "West Conshohocken", "Devon", "phoenixville", "Pennsburg", "New Britain", "Flourtown", "Linwood", "Wynnewood", "Trevose", "Fairmont City", "Radnor", "Chesterbrook", "Oreland", "Westtown", "Clifton Heights", "PHILA", "Jeffersonville", "Holland Southampton", "Royford", "Pipersville", "Milmont Park", "Upper Darby PA", "Feasterville Trevose", "telford", "Trainer", "Coatesville", "Southeastern", "Upper Southampton Township", "Concordville", "Red Hill", "Unionville", "Bucks", "Sharon Hill", "Tinicum", "Abington Township", "Fairland", "Marcus Hook", "W.Chester", "Toughkenamon", "Aldan", "Birchrunville", "Erdenheim Pa", "Roslyn", "Garnet Valley", "Avondale", "Worcester", "Upper Chichester", "Holicong", "Phila", "Gwynedd Valley", "Bryn Athyn", "Upper Gwynedd", "Penndel", "Yardley Boro", "Chestnut Hill", "YARDLEY", "West Norriton", "WEST CHESTER", "Ivyland", "Melrose Park", "Hulmeville", "Philadephia", "Norwood", "Merion Station", "Bensalem Township", "LOWER PROVIDENCE", "Silverdale", "Cheltenham", "Rose Valley", "Zieglersville", "NORRISTOWN", "Saint Davids", "Franconia", "Philadelphia PA", "Gladwyne", "Tullytown", "Skippack Village", "New Berlinville", "erdenheim", "Manayunk", "Bethalto", "Edgmont", "Mont Clare", "Concord Township", "Parker Ford", "East Lansdowne", "Rushland", "Cheltenham Township", "Lionville", "Wrightstown", "Carversville", "Cornwells Heights", "Oakford", "Bristol Twp", "Pineville", "Southwest Philadelphia", "Bethel Township", "West Point", "Woodbourne", "Center City Philadelphia", "North Coventry", "Warwick", "Andalusia", "Churchville", "Feastville", "Saint Peters", "Strafford", "Gwynedd", "Chester Township", "Gardenville", "Meadowbrook", "Roxborough", "Gulph Mills", "Bucks County", "Danboro", "Forest Grove", "Eddington", "Washington", "Virtual", "Sassamansville", "Fox Street", "Upper Merion Township", "Fairview Village", "Cherry Hil", "Linfield", "E. Norristown", "Feasterville-Trevose, PA", "West Philadelphia", "Solebury", "Center Square", "MIDDLE CITY WEST", "Landsale", "Cedars", "West Chester PA", "Lima", "Tylersport", "Lenni", "St. Davids", "Feasterville Trev", "Penllyn", "Upper Southampton", "Sumneytown", "Pennsylvania", "frazer", "POTTSTOWN", "Edgemont", "Chester Heights", "LOWER MERION", "Warrington Township", "philadelphia", "quakertown", "West Bradford Township", "MEDIA", "Parkside", "Cornwells Hts", "Festerville", "Havertown, PA", "Southhampton", "North Coventry Township", "Lederach", "Lower Merion", "Pine Forge", "LANSDALE", "Newportville", "NORTH WALES", "Lower Southampton Township", "Huntington Valley", "East Falls", "Ridley", "Bensalem. Pa", "Chichester", "Upper Pottsgrove", "Tinicum Township", "gilbertsville", "Lower Gwynedd Township", "CHESTER HEIGHTS", "Upland", "CLIFTON HEIGHTS", "LANGHORNE", "DOWNINGTOWN", "Philly", "Feasterville-trevose", "Sanatoga", "Newtown Sq", "Frederick", "CONSHOHOCKEN", "Wycombe", "Swedeland", "Barto", "N.Wales", "Merion", "Montgomery", "Blooming Glen", "London Grove", "spring city", "Kirklyn", "Overbrook", "Caln", "RADNOR", "Hollywood", "WILLOW GROVE", "Middletown", "Philiadelphia", "Newton", "Claymont", "Charlack", "UPPER MORELAND"], "Tennessee": ["Ashland City", "Nashville", "White House", "Brentwood", "Madison", "Franklin", "Hermitage", "Smyrna", "Goodletsville", "View", "Mount Juliet", "Mt. Juliet", "Hendersonville", "Old Hickory", "Springfield", "Gallatin", "La Vergne", "Greenbrier", "Antioch", "Bellevue", "Mt Juliet", "Nashville-Davidson metropolitan government (balance)", "Nolensville", "Pleasant View", "Murfreesboro", "Lebanon", "Joelton", "East Nashville", "Berry Hill", "Ashland", "Inglewood", "Arrington", "franklin", "Kingston Springs", "Spring City", "NASHVILLE", "Belle Meade", "NASHVILLE AP", "MADISON", "Whites Creek", "Rural Hill", "Fairview", "Mt.Juliet", "Brentwood - Cool Springs", "Pegram", "DONELSON", "Cane Ridge", "nashville", "Old Hickory, TN", "Tennesse", "goodlettsville", "Clarksville", "West Nashville", "Chattanooga", "HENDERSONVILLE"], "Florida": ["Tampa Bay", "Largo", "Tampa", "Pinellas Park", "Wesley Chapel", "Treasure Island", "St. Petersberg", "Riveridge", "Saint Petersburg", "Madeira Beach", "Lutz", "Clearwater", "New Port Richey", "TAMPA", "Terra Ceia", "Brandon", "Odessa", "Apollo Beach", "Spring City", "Holiday", "Oldsmar", "Seminole", "St Petersberg", "Hernando Bch", "Plant City", "Ruskin", "Safety  Harbor", "Valrico", "Land O Lakes", "Tarpon Springs", "Port Richey", "Dunedin", "Clearwater Beach", "Gulfport", "Sun City Center", "Palm Harbor", "Temple Terr", "St Pete Beach", "North Redington Bch", "Lithia", "Belleair", "Zephryhills", "Greater Northdale", "Mulberry", "St. Pete Beach", "Houston", "Seffner", "Thonotosassa", "Dover", "Land o lakes", "Saint Pete Beach", "Redington Shore", "Trinity", "Wimauma", "Treasure Is", "Petersburg", "Palmetto", "Temple Terrace", "Indian Rocks Beach", "NEW PORT RICHEY", "Hillsborough County", "Ybor City", "Belleair Bluffs", "Indian Shores", "South Pasadena", "Redingtn Shor", "Sun City", "Brooksville", "Westchase", "Balm", "clearwater", "Gibsonton", "Carrollwood", "Twn N Cntry", "Springhill", "Kenneth City", "Pinecrest West Park", "Central Tampa", "Tierra Verde", "New Prt Rchy", "Ozona", "Saintt Petersburg", "Southwest Tampa", "St. Pete", "\u200bLargo", "Town n Country", "Wyndlake Condominium", "land o lakes", "Bradenton", "St Pete", "Saint Petersburg,", "NEW PRT RCHY", "CLEARWATER BEACH", "Tampa - North", "Thonosassa", "Dade City", "Wesley chapel", "Clearwater,", "San Antonio", "RIVERVIEW", "CLEARWATER", "LARGO", "St.Petersburg", "Belleair Beach", "Tampa Florida", "Kenner", "Tarpon springs", "Tampa Terrace", "Shady Hills", "Saint Petersburg Beach", "Bayonet Point", "Masaryktown", "Town 'n' Country", "Redington Beach", "Lutz fl", "Pinellas", "SPRINGHILL", "ST. PETE BEACH", "Crystal Beach", "tampa", "River View", "DUNEDIN", "HUdson", "St Pete beach", "N Redington Bch", "chicago", "Crystal Springs", "wimauma", "Dunnellon", "Tampa Palms", "Citrus Park", "Mango", "Tampa - South", "ST. PETERSBURG", "New Orlaens", "Largo (Walsingham)", "N Redngtn Bch", "Land o Lakes", "Palm harbor", "Greater Carrollwood", "LITHIA", "BRANDON", "University City", "ClearWater", "South Tampa", "SAINT PETERSBURG", "Riverview Fl", "Elfers", "Pasadena", "PINELLAS PARK", "TRINITY", "Tierre Verde", "Tampa,", "Lakeland", "Land O'lakes", "St. Leo", "Clearwater/ Countryside", "Pasco", "Apopka", "TEMPLE TERR", "TAMPA AP", "Safety Hatbor", "Pass-a-Grille Beach", "VALRICO", "Saint John", "Town 'N' Country", "S.Pasadena", "MacDill AFB"], "Indiana": ["Indianapolis", "Carmel", "Avon", "Brownsburg", "Noblesville", "Fishers", "Zionsville", "Greenwood", "Lawrence", "Whiteland", "Mooresville", "Camby", "Whitestown", "Plainfield", "Speedway", "Beech Grove", "New Palestine", "Southport", "Franklin", "Indianapolis,", "Greenfield", "lawrence", "Clementon", "McCordsville", "Castleton", "Mccordsville", "Mc Cordsville", "Bargersville", "Danville", "INDIANAPOLIS", "Lawrence Township", "indianopolis", "New Whiteland", "Boone", "Nashville", "Wanamaker", "Fortville", "Pleasant Township", "Hancock", "AVON", "Cumberland", "Lebanon", "Martinsville", "Indianapolis city (balance)", "Indiana", "INpolis"], "Louisiana": ["Kenner", "New Orlaens", "Harvey", "Metairie", "Chalmette", "Marrero", "Westwego", "Harahan", "Belle Chase", "Jefferson", "Greenwood", "Arabi", "Terrytown", "Avondale", "St.Rose", "Meterie", "River Ridge", "Bridge City", "Bywater", "NEW ORLEANS", "Jefferson Parish", "Mandeville", "Violet", "metairie", "French Quarter", "Covington", "New orleans", "Elmwood", "Saint Rose", "Meraux", "Luling", "St Rose", "Saint Bernard", "St. Rose", "Riveridge", "Downtown", "Gentilly", "Bucktown", "Chalemette", "Algiers", "new orleans", "elmwood", "NEW ORLEANS AP", "Waggaman", "kenner", "Slidell"], "Nevada": ["Reno", "Spark", "Virginia City", "Verdi", "Spanish Springs", "Sun Valley", "RENO", "sparks", "Washoe Valley", "RENO AP", "Reno Nevada", "reno", "VC Highlands", "Nevada", "Washoe", "Mount Laurel", "Reno City", "Stead", "New Washoe City", "South Reno", "Carson City", "Cold Springs"], "Delaware": ["Wilmington", "Newark", "Newport", "New Castle", "Claymont", "Greenville", "Hockessin", "New castle", "Bear", "Elsmere", "Talleyville", "Pike Creek", "wilmington", "Marshallton", "Christiana", "Smyrna", "Wilmington Manor", "Trolley Square", "Montchanin", "Edgemont", "Glen Mills", "Arden", "Media", "Stanton", "Yorklyn", "Monchanin", "Bellefonte", "Aston"], "Illinois": ["Alton", "Belleville", "Troy", "Fairview Heights", "Smithton", "Edwardsville", "Lebanon", "Godfrey", "Mascoutah", "Cahokia", "Glen Carbon", "Granite City", "Waterloo", "Pontoon Beach", "Frederick", "O Fallon", "Swansea", "Collinsville", "Maryville", "Colmar", "Shiloh", "East Saint Louis", "Sauget", "Wood River", "Millstadt", "Dupo", "Caseyville", "O'fallon", "Scott AFB", "East Alton", "Bellville", "Rosewood Heights", "Bethalto", "Fairview Hts", "Washington Park", "OFallon", "East St Louis", "Hartford", "Scott Air Force Base", "Cottage Hills", "Ofallon", "E Saint Louis", "Roxana", "Fairmont City", "Madison", "St Louis", "Lincoln", "St. Leo", "Foster Pond"], "New Jersey": ["Cherry Hil", "Williamsport", "Burlington", "Camden", "Woodbourne", "Ewing", "Trenton", "Bellmawr", "Somerdale", "Maple Shade", "Cedarbrook", "Glassboro", "Haddonfield", "Pennsville", "Haddon Heights", "Palmyra", "Sicklerville", "Woodstown", "Voorhees", "Riveridge", "Lambertville", "Florence Township", "Marlton", "Delran", "Collingswood", "Cinnaminson", "Turnersville", "Moorestown", "Atco", "Mount Laurel", "Mount Laurel Township", "Lawnside", "Franklinville", "Pitman", "Mullica Hill", "Gloucester Township", "Lumberton", "Sewell", "Westville", "Woolwich Twp", "Voorhees Township", "Washington Township", "Brooklawn", "West Berlin", "Mount Holly", "Barrington", "Deptford Township", "Westmont", "Pennsauken", "Swedesboro", "Ewing Township", "Audubon", "Woodbury Heights", "Deptford", "Hamiltion", "Willingboro Township", "Elmer", "Colmar", "Mount Ephraim", "Blackwood", "Medford", "Penns Grove", "Gibbsboro", "Maple Shade Township", "Bordentown", "Clementon", "Willingboro", "Woolwich Township", "Laurel Springs", "Merchantville", "Glendale", "Shamong", "Mt. Laurel", "Mount Royal", "Hamilton Township", "Berlin", "Paulsboro", "Mt Laurel", "Jobstown", "Flanders", "Tabernacle", "Vincentown", "Florence", "Runnemede", "Mansfield", "South Cinnaminson", "Clayton", "Oaklyn", "Lawrenceville", "Newfield", "Hainesport", "Hammonton", "Gloucester City", "Berlin Township", "Monroe Township", "West Deptford", "Mercerville", "Strafford", "Lindenwold", "Salem", "Pittsgrove Township", "Logan Township", "Haddon Township", "Westampton Township", "Westampton", "Edgewater Park", "Delanco", "Thorofare", "National Park", "New Jersey", "Mantua Township", "Southampton", "Clarksboro", "Eastampton", "Upper Pittsgrove", "Chesterfield", "Harrison Township", "Magnolia", "W Cherry Hill", "Pemberton", "Pennsauken Township", "Hadden", "Almonesson", "Lawrence Township", "Evesham Township", "Pittsgrove", "Pine HIll", "Mantua", "Winslow", "West Deptford Townsh", "Malaga", "Lawrence", "Cedar Brook", "Medford Lakes", "Titusville", "Carney's Point", "Beverly", "Southampton Township", "Evesham", "Burlington Township", "Pennsaulen", "Mt Laurel Twp, NJ", "Wenonah", "Gibbstown", "Tren", "Mickleton", "West Mount Holly", "Pennsville Township", "Hilltop", "Elk Township", "Haddon Twp", "Winslow Township", "maple shade nj", "Had Twp", "Westmont - Haddon Towsship", "West Trenton", "Crosswicks", "Philadelphia", "Mt Holly", "Echelon", "West  Deptford", "Washington Twp", "Pennington", "Chesilhurst", "Quinton", "Eastampton Township", "Erial", "Oldmans Township", "Mt. Holly", "Freehold", "Mt Ephraim", "Pilesgrove", "Mt.Laurel", "sewell", "Deptford Twp", "Waterford Works", "Hi-Nella", "Monroeville", "Cherry Hill,", "Evshm Twp", "Delran Twp", "Bridgeport", "North Maple Shade", "Moorestown-Lenola", "TRENTON", "South Harrison Township", "Mt Laurel Township", "Folsom", "Roebling", "Fieldsboro", "Hi Nella", "Stone Harbor", "South Burlington", "Westhampton", "W. Berlin", "Oldmans", "Hopewell Township", "Ewing Twp", "Gloucester", "Franklin", "DELRAN", "Alloway", "Cherry Hill Mall", "West Collingswood Heights", "Delran Township", "Hatboro", "Greenwood", "Hurffville", "Rancocas", "Woodbury Hts."], "Arizona": ["Tucson", "Oro Valley", "Tuscon", "Maran", "Green Valle", "Sahuarita", "Vail", "Arizona", "TUCSON", "Mount Lemmon", "Cortaro", "Valencia West", "Catalina", "Casa Adobes", "Corona de Tucson", "tucson", "South Tucson", "Santa Rita", "Drexel Heights", "Picture Rocks", "Los Ranchitos", "Corona De Tucson", "Rillito", "Oro valley", "TUCSON AP"], "Idaho": ["Meridan", "Boise", "Eagle", "Garden City", "Star", "Boise City", "Boise (Meridian)", "MERIDIAN", "Kuna", "Nampa", "boise", "BOISE AP", "BOISE", "St Boise"], "North Carolina": ["Boone"], "Colorado": ["Vail", "Denver"], "Hawaii": ["Lula Lula", "Tucson"], "Texas": ["Houston", "Nashville"], "Montana": ["Kalispell"], "Massachusetts": ["Lynnfield", "Boston"]};
  useEffect(() => {
    if (selectedState) {
      setCityList(stateCityMap[selectedState] || []);
      setCity('');  // Reset city when state changes
    }
  }, [selectedState]);

  const handleStateChange = (e) => {
    const state = e.target.value;
    setSelectedState(state);
    setState(state);  // Update the state in Explore.jsx
  };

  const handleCityChange = (e) => {
    const city = e.target.value;
    setSelectedCity(city);
    setCity(city);  // Update the city in Explore.jsx
  };
  const handleStartChange = (e) =>{
    const start = e.target.value;
    setSelectedStart(start);
    setStart(start)
  }
  return (
    <>
      <div className='form-group'>
      <div className='form-group'>
                    <label htmlFor="start">Starting Point: </label>
                    <input type="text" className='form-control input-place' id="start" onChange={handleStartChange} value={selectedStart}  />
                </div>
        <label htmlFor="state">Select State:</label>
        <select id="state" className='form-control' value={selectedState} onChange={handleStateChange}>
          <option value="">--Select State--</option>
          {Object.keys(stateCityMap).map((state) => (
            <option key={state} value={state}>
              {state}
            </option>
          ))}
        </select>
      </div>

      {cityList.length > 0 && (
        <div className='form-group'>
          <label htmlFor="city">Select City:</label>
          <select id="city" className='form-control' value={selectedCity} onChange={handleCityChange}>
            <option value="">--Select City--</option>
            {cityList.map((city) => (
              <option key={city} value={city}>
                {city}
              </option>
            ))}
          </select>
        </div>
      )}
    </>
  );
};

export default City;
